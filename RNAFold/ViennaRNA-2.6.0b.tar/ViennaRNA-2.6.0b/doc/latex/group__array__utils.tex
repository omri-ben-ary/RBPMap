\hypertarget{group__array__utils}{}\doxysection{Arrays}
\label{group__array__utils}\index{Arrays@{Arrays}}


Interface for an abstract implementation of an array data structure.  




\doxysubsection{Detailed Description}
Interface for an abstract implementation of an array data structure. 

Arrays of a particular {\ttfamily Type} are defined and initialized using the following code\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_ga97302e41c5c33faae998eb956c8f1f91}{vrna\_array}}(Type)\ \ my\_array;}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_gae89f7b8409aea39fa43c95cb9f9fbffe}{vrna\_array\_init}}(my\_array);}

\end{DoxyCode}


or equivalently\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_ga163bb41feb9b5e3a3a64272c29aff02e}{vrna\_array\_make}}(Type,\ my\_array);}

\end{DoxyCode}


Dynamic arrays can be used like regular pointers, i.\+e. elements are simply addressed using the \mbox{[}\mbox{]} operator, e.\+g.\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{my\_array[1]\ =\ 42;}

\end{DoxyCode}


Using the \mbox{\hyperlink{group__array__utils_ga6fb843579e27a1c998d3f4eda8873099}{vrna\+\_\+array\+\_\+append()}} macro, items can be safely appended and the array will grow accordingly if required\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_ga6fb843579e27a1c998d3f4eda8873099}{vrna\_array\_append}}(my\_array,\ item);}

\end{DoxyCode}


Finally, memory occupied by an array must be released using the \mbox{\hyperlink{group__array__utils_gac6464c225211e87eafb15f39f224cc99}{vrna\+\_\+array\+\_\+free()}} macro\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_gac6464c225211e87eafb15f39f224cc99}{vrna\_array\_free}}(my\_array);}

\end{DoxyCode}


Use the \mbox{\hyperlink{group__array__utils_ga19c467225b21d15618d8b2d436f88572}{vrna\+\_\+array\+\_\+size()}} macro to get the number of items stored in an array, e.\+g. for looping over its elements\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ define\ and\ initialize}}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_ga163bb41feb9b5e3a3a64272c29aff02e}{vrna\_array\_make}}(\textcolor{keywordtype}{int},\ my\_array);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ append\ some\ items}}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_ga6fb843579e27a1c998d3f4eda8873099}{vrna\_array\_append}}(my\_array,\ 42);}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_ga6fb843579e27a1c998d3f4eda8873099}{vrna\_array\_append}}(my\_array,\ 23);}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_ga6fb843579e27a1c998d3f4eda8873099}{vrna\_array\_append}}(my\_array,\ 5);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ loop\ over\ items\ and\ print}}
\DoxyCodeLine{\textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{group__array__utils_ga19c467225b21d15618d8b2d436f88572}{vrna\_array\_size}}(my\_array);\ i++)}
\DoxyCodeLine{\ \ printf(\textcolor{stringliteral}{"{}\%d\(\backslash\)n"{}},\ my\_array[i]);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ release\ memory\ of\ the\ array}}
\DoxyCodeLine{\mbox{\hyperlink{group__array__utils_gac6464c225211e87eafb15f39f224cc99}{vrna\_array\_free}}(my\_array);}

\end{DoxyCode}


Under the hood, arrays are preceded by a header that actually stores the number of items they contain and the capacity of elements they are able to store. The general ideas for this implementation are taken from Ginger Bill\textquotesingle{}s C Helper Library (public domain). Collaboration diagram for Arrays\+:
% FIG 0
\doxysubsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{array_8h}{array.\+h}}
\begin{DoxyCompactList}\small\item\em A macro-\/based dynamic array implementation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{group__array__utils_structvrna__array__header__s}{vrna\+\_\+array\+\_\+header\+\_\+s}}
\begin{DoxyCompactList}\small\item\em The header of an array.  \mbox{\hyperlink{group__array__utils_structvrna__array__header__s}{More...}}\end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__array__utils_ga97302e41c5c33faae998eb956c8f1f91}\label{group__array__utils_ga97302e41c5c33faae998eb956c8f1f91}} 
\#define {\bfseries vrna\+\_\+array}(Type)~Type $\ast$
\begin{DoxyCompactList}\small\item\em Define an array. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_ga163bb41feb9b5e3a3a64272c29aff02e}\label{group__array__utils_ga163bb41feb9b5e3a3a64272c29aff02e}} 
\#define {\bfseries vrna\+\_\+array\+\_\+make}(Type,  Name)~Type $\ast$ Name; \mbox{\hyperlink{group__array__utils_gae89f7b8409aea39fa43c95cb9f9fbffe}{vrna\+\_\+array\+\_\+init}}(Name)
\begin{DoxyCompactList}\small\item\em Make an array {\ttfamily Name} of type {\ttfamily Type}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_ga8b6225c59d71c3e7db577c64144a8c33}\label{group__array__utils_ga8b6225c59d71c3e7db577c64144a8c33}} 
\#define {\bfseries VRNA\+\_\+\+ARRAY\+\_\+\+GROW\+\_\+\+FORMULA}(n)~(1.\+4 $\ast$ (n) + 8)
\begin{DoxyCompactList}\small\item\em The default growth formula for array. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_gaad964f70514d8ff3a8c1ebab4ffca148}\label{group__array__utils_gaad964f70514d8ff3a8c1ebab4ffca148}} 
\#define {\bfseries VRNA\+\_\+\+ARRAY\+\_\+\+HEADER}(input)~((\mbox{\hyperlink{group__array__utils_gae5058b15eb7d97c5a5aadda15957c3c5}{vrna\+\_\+array\+\_\+header\+\_\+t}} $\ast$)(input) -\/ 1)
\begin{DoxyCompactList}\small\item\em Retrieve a pointer to the header of an array {\ttfamily input}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_ga19c467225b21d15618d8b2d436f88572}\label{group__array__utils_ga19c467225b21d15618d8b2d436f88572}} 
\#define {\bfseries vrna\+\_\+array\+\_\+size}(input)~(\mbox{\hyperlink{group__array__utils_gaad964f70514d8ff3a8c1ebab4ffca148}{VRNA\+\_\+\+ARRAY\+\_\+\+HEADER}}(input)-\/$>$num)
\begin{DoxyCompactList}\small\item\em Get the number of elements of an array {\ttfamily input}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_gac41fc88614162b63643bcd0b6cf59eda}\label{group__array__utils_gac41fc88614162b63643bcd0b6cf59eda}} 
\#define {\bfseries vrna\+\_\+array\+\_\+capacity}(input)~(\mbox{\hyperlink{group__array__utils_gaad964f70514d8ff3a8c1ebab4ffca148}{VRNA\+\_\+\+ARRAY\+\_\+\+HEADER}}(input)-\/$>$size)
\begin{DoxyCompactList}\small\item\em Get the size of an array {\ttfamily input}, i.\+e. its actual capacity. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_gae10b43a9d87c9dbc32674b3d89a28580}\label{group__array__utils_gae10b43a9d87c9dbc32674b3d89a28580}} 
\#define {\bfseries vrna\+\_\+array\+\_\+set\+\_\+capacity}(a,  capacity)
\begin{DoxyCompactList}\small\item\em Explicitely set the capacity of an array {\ttfamily a}. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__array__utils_ga6dc975fd556e2bb40d7ca420b3288249}{vrna\+\_\+array\+\_\+init\+\_\+size}}(a,  init\+\_\+size)
\begin{DoxyCompactList}\small\item\em Initialize an array {\ttfamily a} with a particular pre-\/allocated size {\ttfamily init\+\_\+size}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_gae89f7b8409aea39fa43c95cb9f9fbffe}\label{group__array__utils_gae89f7b8409aea39fa43c95cb9f9fbffe}} 
\#define {\bfseries vrna\+\_\+array\+\_\+init}(a)~\mbox{\hyperlink{group__array__utils_ga6dc975fd556e2bb40d7ca420b3288249}{vrna\+\_\+array\+\_\+init\+\_\+size}}(a, \mbox{\hyperlink{group__array__utils_ga8b6225c59d71c3e7db577c64144a8c33}{VRNA\+\_\+\+ARRAY\+\_\+\+GROW\+\_\+\+FORMULA}}(0));
\begin{DoxyCompactList}\small\item\em Initialize an array {\ttfamily a}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_gac6464c225211e87eafb15f39f224cc99}\label{group__array__utils_gac6464c225211e87eafb15f39f224cc99}} 
\#define {\bfseries vrna\+\_\+array\+\_\+free}(a)
\begin{DoxyCompactList}\small\item\em Release memory of an array {\ttfamily a}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_ga6fb843579e27a1c998d3f4eda8873099}\label{group__array__utils_ga6fb843579e27a1c998d3f4eda8873099}} 
\#define {\bfseries vrna\+\_\+array\+\_\+append}(a,  item)
\begin{DoxyCompactList}\small\item\em Safely append an item to an array {\ttfamily a}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_ga280582bd20255a079653906546ba8ac2}\label{group__array__utils_ga280582bd20255a079653906546ba8ac2}} 
\#define {\bfseries vrna\+\_\+array\+\_\+grow}(a,  min\+\_\+capacity)
\begin{DoxyCompactList}\small\item\em Grow an array {\ttfamily a} to provide a minimum capacity {\ttfamily min\+\_\+capacity}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__array__utils_gae5058b15eb7d97c5a5aadda15957c3c5}\label{group__array__utils_gae5058b15eb7d97c5a5aadda15957c3c5}} 
typedef struct \mbox{\hyperlink{group__array__utils_structvrna__array__header__s}{vrna\+\_\+array\+\_\+header\+\_\+s}} {\bfseries vrna\+\_\+array\+\_\+header\+\_\+t}
\begin{DoxyCompactList}\small\item\em The header of an array. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
VRNA\+\_\+\+NO\+\_\+\+INLINE void $\ast$ \mbox{\hyperlink{group__array__utils_ga05b1c13a4c2e240bfdd6d145eff25dab}{vrna\+\_\+\+\_\+array\+\_\+set\+\_\+capacity}} (void $\ast$array, size\+\_\+t capacity, size\+\_\+t element\+\_\+size)
\begin{DoxyCompactList}\small\item\em Explicitely set the capacity of an array. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Data Structure Documentation}
\index{vrna\_array\_header\_s@{vrna\_array\_header\_s}}\label{structvrna__array__header__s}
\Hypertarget{group__array__utils_structvrna__array__header__s}
\doxysubsubsection{struct vrna\+\_\+array\+\_\+header\+\_\+s}
The header of an array. \doxysubsubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__array__utils_a0dedd91d1cee78a7298f30da37117036}\label{group__array__utils_a0dedd91d1cee78a7298f30da37117036}} 
size\+\_\+t {\bfseries num}
\begin{DoxyCompactList}\small\item\em The number of elements in an array. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__array__utils_a1cce2f7b1524bf509eeedb6feef73dbc}\label{group__array__utils_a1cce2f7b1524bf509eeedb6feef73dbc}} 
size\+\_\+t {\bfseries size}
\begin{DoxyCompactList}\small\item\em The actual capacity of an array. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__array__utils_ga6dc975fd556e2bb40d7ca420b3288249}\label{group__array__utils_ga6dc975fd556e2bb40d7ca420b3288249}} 
\index{Arrays@{Arrays}!vrna\_array\_init\_size@{vrna\_array\_init\_size}}
\index{vrna\_array\_init\_size@{vrna\_array\_init\_size}!Arrays@{Arrays}}
\doxysubsubsection{\texorpdfstring{vrna\_array\_init\_size}{vrna\_array\_init\_size}}
{\footnotesize\ttfamily \#define vrna\+\_\+array\+\_\+init\+\_\+size(\begin{DoxyParamCaption}\item[{}]{a,  }\item[{}]{init\+\_\+size }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{array_8h}{Vienna\+RNA/datastructures/array.\+h}}$>$}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{do}\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{void}\ **a\_ptr\ =\ (\textcolor{keywordtype}{void}\ **)\&(a);\ \(\backslash\)}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{size\_t}\ size\ =\ \textcolor{keyword}{sizeof}(*(a))\ *\ (init\_size)\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{group__array__utils_structvrna__array__header__s}{vrna\_array\_header\_t}});\ \(\backslash\)}
\DoxyCodeLine{\ \ \mbox{\hyperlink{group__array__utils_structvrna__array__header__s}{vrna\_array\_header\_t}}\ *h\ =\ (\textcolor{keywordtype}{void}\ *)\mbox{\hyperlink{group__utils_gafae44c31c8772450d6c674a582be3e3c}{vrna\_alloc}}(size);\ \(\backslash\)}
\DoxyCodeLine{\ \ h-\/>\mbox{\hyperlink{group__array__utils_a0dedd91d1cee78a7298f30da37117036}{num}}\ \ \ \ \ \ \ \ \ \ \ =\ 0;\ \(\backslash\)}
\DoxyCodeLine{\ \ h-\/>\mbox{\hyperlink{group__array__utils_a1cce2f7b1524bf509eeedb6feef73dbc}{size}}\ \ \ \ \ \ \ \ \ \ =\ init\_size;\ \(\backslash\)}
\DoxyCodeLine{\ \ *a\_ptr\ \ \ \ \ \ \ \ \ \ \ =\ (\textcolor{keywordtype}{void}\ *)(h\ +\ 1);\ \(\backslash\)}
\DoxyCodeLine{\}\ \textcolor{keywordflow}{while}\ (0)}

\end{DoxyCode}


Initialize an array {\ttfamily a} with a particular pre-\/allocated size {\ttfamily init\+\_\+size}. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__array__utils_ga05b1c13a4c2e240bfdd6d145eff25dab}\label{group__array__utils_ga05b1c13a4c2e240bfdd6d145eff25dab}} 
\index{Arrays@{Arrays}!vrna\_\_array\_set\_capacity@{vrna\_\_array\_set\_capacity}}
\index{vrna\_\_array\_set\_capacity@{vrna\_\_array\_set\_capacity}!Arrays@{Arrays}}
\doxysubsubsection{\texorpdfstring{vrna\_\_array\_set\_capacity()}{vrna\_\_array\_set\_capacity()}}
{\footnotesize\ttfamily VRNA\+\_\+\+NO\+\_\+\+INLINE void $\ast$ vrna\+\_\+\+\_\+array\+\_\+set\+\_\+capacity (\begin{DoxyParamCaption}\item[{void $\ast$}]{array,  }\item[{size\+\_\+t}]{capacity,  }\item[{size\+\_\+t}]{element\+\_\+size }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{array_8h}{Vienna\+RNA/datastructures/array.\+h}}$>$}



Explicitely set the capacity of an array. 

\begin{DoxyNote}{Note}
Do not use this function. Rather resort to the \mbox{\hyperlink{group__array__utils_gae10b43a9d87c9dbc32674b3d89a28580}{vrna\+\_\+array\+\_\+set\+\_\+capacity}} macro 
\end{DoxyNote}
